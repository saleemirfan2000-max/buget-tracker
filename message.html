<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messaging Website</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
        }

        .side-bar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            height: 100vh;
            padding: 20px;

        }

        .container {

            padding: 20px;
        }

.input-area{
    display: flex;
    align-items: center;
    justify-content: center;
}

        #send:hover {
            background-color: #2980b9;
        }
    </style>
</head>

<body>
    <div class="side-bar">

        <div class="search">
            <input type="text">
            <input type="submit">
        </div>

        <div class="contacts">
            <button>1 group</button>
        </div>
    </div>

    <div class="container" id="container">

        <div id="messages">

        </div>

        <div class="input-area">

        <input type="text" id="text" placeholder="text">
        <input type="button" onclick="send()" id="send" value="Send">

        </div>

    </div>

    <script type="module">

// Import Firebase v12 modules
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";

// Your Firebase config (replace with your real one)

const firebaseConfig = {
    apiKey: "AIzaSyAQ2Roa_W20k9Tk4cggo0SQw9XPchjP-nk",
    authDomain: "messaging-a2661.firebaseapp.com",
    databaseURL: "YOUR_DATABASE_URL",
    projectId: "messaging-a2661",
    appId: "1:693609996924:web:041493e168409947635ff9"
  };

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Reference to messages in database
const messagesRef = ref(db, "messages");

// Load messages in real time
onValue(messagesRef, (snapshot) => {
  const messagesDiv = document.getElementById("messages");
  messagesDiv.innerHTML = ""; // clear first
  snapshot.forEach((child) => {
    messagesDiv.innerHTML += `<p>${child.val().text}</p>`;
  });
});


        function send() {
            const inputEl = document.getElementById("text");
            const text = inputEl.value;
            var messages_box = document.getElementById("messages");
            if (text.trim() === "") return;

             push(messagesRef, { text: text });
            inputEl.value = "";
        }
    </script>
</body>

</html>