<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Tracker</title>
    <style>
        .list { width: 100%; display: flex; }
    </style>
</head>
<body>
    <h1>Budget Tracker</h1>
    <hr>
    <input id="item" type="text" placeholder="Expense item">
    <input id="expence" type="text" placeholder="Expense price">
    <input id="add" type="text" placeholder="Add money">
    <input type="submit" id="submitBtn">

    <div class="list">
        <ul id="list"></ul>
        <ul id="price"></ul>
        <ul id="total"></ul>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBvpxpxEViI16E83XnOzsxRNU7hmbsty-g",
            authDomain: "buget-tracker-2b3c9.firebaseapp.com",
            databaseURL: "https://buget-tracker-2b3c9-default-rtdb.firebaseio.com",
            projectId: "buget-tracker-2b3c9",
            storageBucket: "buget-tracker-2b3c9.firebasestorage.app",
            messagingSenderId: "360546690278",
            appId: "1:360546690278:web:494c2db6ef687875908727",
            measurementId: "G-PSQHH3F8WY"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);


const submitBtn = document.getElementById("submitBtn");
submitBtn.addEventListener("click", submitBudget);


        let total = 0;


          

function submitBudget() {
    const name = document.getElementById("item").value;
    const expense = Number(document.getElementById("expence").value);
    const addMoney = Number(document.getElementById("add").value);

    total += addMoney - expense;

    document.getElementById("list").innerHTML += `<li>${name}</li>`;
    document.getElementById("price").innerHTML += `<li>${expense}</li>`;
    document.getElementById("total").innerHTML += `<li>${total}</li>`;

    push(ref(database, 'budgets/'), {
        name: name,
        expense: expense,
        add: addMoney,
        total: total,
        time: new Date().toISOString()
    });

    document.getElementById("item").value = "";
    document.getElementById("expence").value = "";
    document.getElementById("add").value = "";
}

        
    </script>
</body>
</html>
